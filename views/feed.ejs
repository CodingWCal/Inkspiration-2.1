<%- include('partials/header') -%>

<body class="min-h-screen flex items-center justify-center px-4 bg-gradient-to-br from-[#EBDFFA] via-[#CFEDEA] to-[#F5F6F7] [cursor:url('/img/cursor.cur'),_auto]">

  <div class="max-w-6xl mx-auto px-4 py-10 bg-base-200 text-base-content min-h-screen">

  <h1 class="text-4xl font-extrabold text-purple-700 mb-10 border-b-2 border-[#91dbd1] pb-4 text-center">
     Community Gallery
  </h1>

        <!-- if condo statement if no projects to display msg -->
  <% if (projects.length === 0) { %>
    <p class="text-center text-lg text-gray-600">No public projects yet, start sharing and inspiring today!</p>
  <% } %>

        <!-- for each project loop to have hover animation n borders, displays pics in same styles-->
  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
    <% projects.forEach(project => { %>
      <div class="bg-white rounded-xl shadow-md border border-gray-300 p-4 hover:scale-[1.02] transition-transform duration-300">
        <a href="/project/<%= project._id %>">
          <% if (project.image) { %>
            <img
              src="<%= project.image %>"
              alt="Project by <%= project.user ? project.user.userName : 'Anonymous' %>"
              class="w-full h-60 object-cover rounded-md mb-4"
            />
          <% } else { %>
            <div class="w-full h-60 bg-gray-200 flex items-center justify-center rounded-md mb-4">
              <span class="text-gray-700">No image provided</span>
            </div>
          <% } %>

          <!-- lets user be anon since i added users on feed display after-->
          <h2 class="text-xl font-bold text-purple-700 mb-1"><%= project.title %></h2>
          <p class="text-sm text-gray-700"><strong>By:</strong> <%= project.user ? project.user.userName : 'Anonymous' %></p>
          <p class="text-sm text-gray-600"><strong>Medium:</strong> <%= project.medium %></p>
          <p class="text-sm text-gray-600"><strong>Theme:</strong> <%= project.theme %></p>

          <div class="flex justify-between items-center mt-4">
            <p class="text-xs text-gray-500 italic"><%= project.private ? 'Private' : 'Public' %></p>
            <span class="text-sm font-semibold text-blue-600 underline">View</span>
          </div>
        </a>
      </div>
    <% }) %>
  </div>
</div>

</body>

<%- include('partials/footer') -%>